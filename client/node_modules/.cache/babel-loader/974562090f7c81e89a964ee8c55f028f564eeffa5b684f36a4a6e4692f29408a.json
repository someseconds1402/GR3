{"ast":null,"code":"import _regeneratorRuntime from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useNavigate}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{PATH}from'../../../constant/constant';import{addUser}from'../../../service/userService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddAccForm(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showEror=_useState4[0],setShowEror=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMsg=_useState6[0],setErrorMsg=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var checkValidInput=function checkValidInput(){if(!email||!password){setErrorMsg('Email/password không được bỏ trống.');setShowEror(true);return false;}if(!email.endsWith(\"@gmail.com\")){setErrorMsg('Email phải có định dạng email@gmail.com.');setShowEror(true);return false;}if(password.length<6){setErrorMsg('Password phải chứa ít nhất 6 ký tự');setShowEror(true);return false;}// Kiểm tra account và password có chứa ký tự hợp lệ hay không\nvar validCharsRegex=/^[a-zA-Z0-9.@_]+$/;var isAccountValid=validCharsRegex.test(email);var isPasswordValid=validCharsRegex.test(password);if(isAccountValid&&isPasswordValid){// Xử lý logic khi cả hai input hợp lệ\nsetShowEror(false);// console.log('Dữ liệu hợp lệ');\nreturn true;}else{// Xử lý logic khi có ít nhất một input không hợp lệ\nsetErrorMsg('Username và mật khẩu chỉ được chứa các chữ cái, số, dấu @._');setShowEror(true);return false;}};var handleAddAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var check,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Xử lý logic khi thêm tài khoản vào danh sách\ncheck=checkValidInput();if(!check){_context.next=6;break;}_context.next=4;return addUser(email,password);case 4:data=_context.sent;// console.log(data);\nif(data.errorCode==0){alert(\"Thêm tài khoản thành công!\");navigate(PATH.HOME);}else{setErrorMsg('Tài khoản đã tồn tại!');setShowEror(true);}case 6:case\"end\":return _context.stop();}},_callee);}));return function handleAddAccount(){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){// Hủy bỏ thêm tài khoản, ẩn form\nsetEmail('');setPassword('');setShowForm(false);setShowEror(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"shadow-md sm:rounded-lg border p-8\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Th\\xEAm t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"T\\xE0i kho\\u1EA3n\",className:\"shadow-md sm:rounded-lg border border-gray-500 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-gray-500 h-10 w-80\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"M\\u1EADt kh\\u1EA9u\",className:\"shadow-md sm:rounded-lg border border-gray-500 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-gray-500 h-10 w-80\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})}),showEror&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-red-500\",children:errorMsg}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-4 mr-3 w-40\",onClick:handleAddAccount,children:\"X\\xE1c nh\\u1EADn\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-4 w-40\",onClick:handleCancel,children:\"H\\u1EE7y b\\u1ECF\"})]}),!showForm&&/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus,style:{padding:'5px',width:'30px',height:'30px'},onClick:function onClick(){return setShowForm(true);},className:\"btn btn-primary\"})]});}export default AddAccForm;","map":{"version":3,"names":["useState","useNavigate","FontAwesomeIcon","faPlus","PATH","addUser","jsx","_jsx","jsxs","_jsxs","AddAccForm","navigate","_useState","_useState2","_slicedToArray","showForm","setShowForm","_useState3","_useState4","showEror","setShowEror","_useState5","_useState6","errorMsg","setErrorMsg","_useState7","_useState8","email","setEmail","_useState9","_useState10","password","setPassword","checkValidInput","endsWith","length","validCharsRegex","isAccountValid","test","isPasswordValid","handleAddAccount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","check","data","wrap","_callee$","_context","prev","next","sent","errorCode","alert","HOME","stop","apply","arguments","handleCancel","children","className","type","placeholder","value","onChange","e","target","onClick","icon","style","padding","width","height"],"sources":["D:/Don't Click Here/2022_2/code_2/client/src/components/subscreen/admin/AddAccForm.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { PATH } from '../../../constant/constant';\r\nimport { addUser } from '../../../service/userService';\r\n\r\nfunction AddAccForm() {\r\n    const navigate = useNavigate();\r\n\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [showEror, setShowEror] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const checkValidInput = () => {\r\n        if(!email || !password){\r\n            setErrorMsg('Email/password không được bỏ trống.');\r\n            setShowEror(true);\r\n            return false;\r\n        }\r\n        if(!email.endsWith(\"@gmail.com\")){\r\n            setErrorMsg('Email phải có định dạng email@gmail.com.');\r\n            setShowEror(true);\r\n            return false;\r\n        }\r\n        if(password.length < 6){\r\n            setErrorMsg('Password phải chứa ít nhất 6 ký tự');\r\n            setShowEror(true);\r\n            return false;\r\n        }\r\n\r\n        // Kiểm tra account và password có chứa ký tự hợp lệ hay không\r\n        const validCharsRegex = /^[a-zA-Z0-9.@_]+$/;\r\n        const isAccountValid = validCharsRegex.test(email);\r\n        const isPasswordValid = validCharsRegex.test(password);\r\n\r\n        if (isAccountValid && isPasswordValid) {\r\n            // Xử lý logic khi cả hai input hợp lệ\r\n            setShowEror(false);\r\n            // console.log('Dữ liệu hợp lệ');\r\n            return true;\r\n        } else {\r\n            // Xử lý logic khi có ít nhất một input không hợp lệ\r\n            setErrorMsg('Username và mật khẩu chỉ được chứa các chữ cái, số, dấu @._');\r\n            setShowEror(true);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    const handleAddAccount = async () => {\r\n        // Xử lý logic khi thêm tài khoản vào danh sách\r\n        const check = checkValidInput();\r\n\r\n        if(check){\r\n            // console.log(email, password);\r\n            const data = await addUser(email, password);\r\n            // console.log(data);\r\n            if(data.errorCode == 0){\r\n                alert(\"Thêm tài khoản thành công!\")\r\n                navigate(PATH.HOME);\r\n            } else {\r\n                setErrorMsg('Tài khoản đã tồn tại!');\r\n                setShowEror(true);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        // Hủy bỏ thêm tài khoản, ẩn form\r\n        setEmail('');\r\n        setPassword('');\r\n        setShowForm(false);\r\n        setShowEror(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n        {showForm && (\r\n            <div className=\"shadow-md sm:rounded-lg border p-8\">\r\n                <h3>Thêm tài khoản</h3>\r\n                <div className=\"mt-2\">\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Tài khoản\"\r\n                        className=\"shadow-md sm:rounded-lg border border-gray-500 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-gray-500 h-10 w-80\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Mật khẩu\"\r\n                        className=\"shadow-md sm:rounded-lg border border-gray-500 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-gray-500 h-10 w-80\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </div>\r\n                {showEror && <div className=\"mt-2 text-red-500\">{errorMsg}</div>}\r\n                <button className='btn btn-primary mt-4 mr-3 w-40' onClick={handleAddAccount}>Xác nhận</button>\r\n                <button className='btn btn-danger mt-4 w-40' onClick={handleCancel}>Hủy bỏ</button>\r\n            </div>\r\n        )}\r\n\r\n        {/* Icon dấu + */}\r\n        {!showForm && \r\n            <FontAwesomeIcon \r\n                icon={faPlus}\r\n                style={{ padding: '5px', width: '30px', height: '30px'}}\r\n                onClick={() => setShowForm(true)}\r\n                className='btn btn-primary'\r\n                />\r\n        }\r\n        \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddAccForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}