{"ast":null,"code":"import _regeneratorRuntime from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Don't Click Here/2022_2/code_2/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import MainFrame from'../../mainframe/MainFrame';import{useNavigate}from'react-router-dom';import{PATH}from'../../../constant/constant';import{getPandemicDataAPI,getEpidemicDataOfAllProvincesAPI}from'../../../service/userService';import Dropdown from'../../dropdown/Dropdown';import province from'./../../../constant/province';import MyDatePicker from'../../datepicker/DatePicker';import EpidemicTable from'./epidemictable/EpidemicTable';// Excel\nimport*as XLSX from'xlsx';import{saveAs}from'file-saver';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EpidemicAnalyse(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pandemicData=_useState2[0],setPandemicData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),provinceSelect=_useState4[0],setProvinceSelect=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),pandemicSelect=_useState6[0],setPandemicSelect=_useState6[1];var _useState7=useState(\"2022-07-15\"),_useState8=_slicedToArray(_useState7,2),dateSelect=_useState8[0],setDateSelect=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),superData=_useState10[0],setSuperData=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),tableData=_useState12[0],setTableData=_useState12[1];var levelList=['Chưa xác định','Cấp 1','Cấp 2','Cấp 3'];var _useState13=useState(levelList[0]),_useState14=_slicedToArray(_useState13,2),levelSelect=_useState14[0],setLevelSelect=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),canDownload=_useState18[0],setCanDownload=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),level1=_useState20[0],setLevel1=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),level2=_useState22[0],setLevel2=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),level3=_useState24[0],setLevel3=_useState24[1];var changePandemic=function changePandemic(option){// console.log('pandemic', pandemicData);\nsetPandemicSelect(2);};var changeProvince=function changeProvince(option){var province_id=province.indexOf(option)+1;setLevelSelect(0);setProvinceSelect(province_id);};var changeLevel=function changeLevel(option){setSuperData(function(prevData){var newData=prevData.map(function(e){if(e.province_id===provinceSelect){return _objectSpread(_objectSpread({},e),{},{level:levelList.indexOf(option)});}return e;});return newData;});};var changeDate=function changeDate(date){setDateSelect(date);};var analyseData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return new Promise(function(resolve){setTimeout(function(){setSuperData(function(prevData){var newData=prevData.map(function(e){if(!e.level){var level=e.infection.list[0].quantity_in_today%3+1;return _objectSpread(_objectSpread({},e),{},{level:level});}else{return e;}});return newData;});resolve();},3000);});case 3:// console.log([superData[0], superData[1]]);\nsetIsLoading(false);alert('Đã phân cụm xong. Có thể tải xuống file dữ liệu được phân tích');setCanDownload(true);case 6:case\"end\":return _context.stop();}},_callee);}));return function analyseData(){return _ref.apply(this,arguments);};}();var downloadFile=function downloadFile(){var currentTime=new Date().getTime();var fileName=\"\".concat(currentTime,\"_EpidemicAnalyse.xlsx\");// Tạo workbook mới\nvar workbook=XLSX.utils.book_new();// Biến đổi dữ liệu superData\nvar transformedData=superData.map(function(data){var transformedObj={province_id:data.province_id,date:dateSelect,level:data.level};return transformedObj;});// Convert data to worksheet format\nvar worksheet=XLSX.utils.json_to_sheet(transformedData);// Append worksheet to workbook\nXLSX.utils.book_append_sheet(workbook,worksheet,'Data');// Write workbook to Excel file\nvar excelBuffer=XLSX.write(workbook,{bookType:'xlsx',type:'buffer'});// Create a Blob from the buffer\nvar blob=new Blob([excelBuffer],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});// Download the file\nsaveAs(blob,fileName);};var toPreProvicne=function toPreProvicne(){var province_id=provinceSelect==1?63:provinceSelect-1;setProvinceSelect(province_id);};var toNextProvicne=function toNextProvicne(){var province_id=provinceSelect==63?1:provinceSelect+1;setProvinceSelect(province_id);};useEffect(function(){if(localStorage.getItem('role')!=1){navigate(PATH.HOME);}var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var pandemicDataSrevice;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getPandemicDataAPI();case 3:pandemicDataSrevice=_context2.sent;setPandemicData(pandemicDataSrevice);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return getEpidemicDataOfAllProvincesAPI(pandemicSelect,dateSelect);case 3:data=_context3.sent;data.forEach(function(e){if(!e.level){e.level=0;}});setSuperData(data);// console.log(data);\n_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 11:case\"end\":return _context3.stop();}},_callee3,null,[[0,8]]);}));return function fetchData(){return _ref3.apply(this,arguments);};}();fetchData();setCanDownload(false);},[pandemicSelect,dateSelect]);useEffect(function(){if(superData&&superData.length>0){var data=superData.find(function(e){return e.province_id==provinceSelect;});setLevelSelect(data.level);setTableData(data);}},[provinceSelect]);useEffect(function(){// console.log(superData);\nsetLevel1(superData.filter(function(e){return e.level==1;}).length);setLevel2(superData.filter(function(e){return e.level==2;}).length);setLevel3(superData.filter(function(e){return e.level==3;}).length);},[superData]);return/*#__PURE__*/_jsx(MainFrame,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-count-container absolute z-10 text-white bg-black bg-opacity-30 w-96 h-60 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0110ang x\\u1EED l\\xFD...\"})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Ph\\xE2n t\\xEDch t\\xECnh h\\xECnh d\\u1ECBch b\\u1EC7nh\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 flex justify-between\",children:/*#__PURE__*/_jsx(Dropdown,{data:pandemicData.map(function(e){return e.pandemic_name;}),func:changePandemic})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary w-10 h-10 mt-4\",onClick:toPreProvicne,children:\"<\"}),/*#__PURE__*/_jsx(Dropdown,{data:province,func:changeProvince,selectOption:provinceSelect}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary w-10 h-10 mt-4\",onClick:toNextProvicne,children:\">\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 flex justify-between\",children:/*#__PURE__*/_jsx(MyDatePicker,{func:changeDate})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Th\\u1ED1ng k\\xEA:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[\"C\\u1EA5p \\u0111\\u1ED9 1: \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-green-900\",children:level1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[\"C\\u1EA5p \\u0111\\u1ED9 2: \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-blue-900\",children:level2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[\"C\\u1EA5p \\u0111\\u1ED9 3: \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-red-900\",children:level3})]}),level1>1&&level2>1&&level3>1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary mt-5 w-36\",onClick:analyseData,children:\"Ph\\xE2n c\\u1EE5m\"}),canDownload&&/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-success mt-5 ml-4 w-36\",onClick:downloadFile,children:\"T\\u1EA3i file ph\\xE2n t\\xEDch\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-blue-900\",children:\"Khi \\u0111\\xE3 x\\xE1c \\u0111\\u1ECBnh \\u0111\\u01B0\\u1EE3c m\\u1ED7i level c\\xF3 \\xEDt nh\\u1EA5t 2 t\\u1EC9nh th\\xE0nh, c\\xF3 th\\u1EC3 th\\u1EF1c hi\\u1EC7n ph\\xE2n c\\u1EE5m nhanh.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 mt-4\",children:/*#__PURE__*/_jsx(EpidemicTable,{data:tableData,func:changeLevel,selectOption:levelSelect})})]})]})});}export default EpidemicAnalyse;","map":{"version":3,"names":["useState","useEffect","MainFrame","useNavigate","PATH","getPandemicDataAPI","getEpidemicDataOfAllProvincesAPI","Dropdown","province","MyDatePicker","EpidemicTable","XLSX","saveAs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EpidemicAnalyse","navigate","_useState","_useState2","_slicedToArray","pandemicData","setPandemicData","_useState3","_useState4","provinceSelect","setProvinceSelect","_useState5","_useState6","pandemicSelect","setPandemicSelect","_useState7","_useState8","dateSelect","setDateSelect","_useState9","_useState10","superData","setSuperData","_useState11","_useState12","tableData","setTableData","levelList","_useState13","_useState14","levelSelect","setLevelSelect","_useState15","_useState16","isLoading","setIsLoading","_useState17","_useState18","canDownload","setCanDownload","_useState19","_useState20","level1","setLevel1","_useState21","_useState22","level2","setLevel2","_useState23","_useState24","level3","setLevel3","changePandemic","option","changeProvince","province_id","indexOf","changeLevel","prevData","newData","map","e","_objectSpread","level","changeDate","date","analyseData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","Promise","resolve","setTimeout","infection","list","quantity_in_today","alert","stop","apply","arguments","downloadFile","currentTime","Date","getTime","fileName","concat","workbook","utils","book_new","transformedData","data","transformedObj","worksheet","json_to_sheet","book_append_sheet","excelBuffer","write","bookType","type","blob","Blob","toPreProvicne","toNextProvicne","localStorage","getItem","HOME","fetchData","_ref2","_callee2","pandemicDataSrevice","_callee2$","_context2","sent","t0","console","log","_ref3","_callee3","_callee3$","_context3","forEach","length","find","filter","children","className","pandemic_name","func","onClick","selectOption"],"sources":["D:/Don't Click Here/2022_2/code_2/client/src/components/subscreen/expert/EpidemicAnalyse.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport MainFrame from '../../mainframe/MainFrame'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { PATH } from '../../../constant/constant';\r\nimport { getPandemicDataAPI, getEpidemicDataOfAllProvincesAPI } from '../../../service/userService'\r\nimport Dropdown from '../../dropdown/Dropdown';\r\nimport province from './../../../constant/province'\r\nimport MyDatePicker from '../../datepicker/DatePicker';\r\nimport EpidemicTable from './epidemictable/EpidemicTable';\r\n\r\n// Excel\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\n\r\nfunction EpidemicAnalyse() {\r\n  const navigate = useNavigate();\r\n\r\n  const [pandemicData, setPandemicData] = useState([]);\r\n  \r\n  const [provinceSelect, setProvinceSelect] = useState(1);\r\n  const [pandemicSelect, setPandemicSelect] = useState(1);\r\n  const [dateSelect, setDateSelect] = useState(\"2022-07-15\");\r\n\r\n  const [superData, setSuperData] = useState([]);\r\n  const [tableData, setTableData] = useState({});\r\n  const levelList = ['Chưa xác định', 'Cấp 1', 'Cấp 2', 'Cấp 3'];\r\n  const [levelSelect, setLevelSelect] = useState(levelList[0]);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [canDownload, setCanDownload] = useState(false);\r\n\r\n  const [level1, setLevel1] = useState(0);\r\n  const [level2, setLevel2] = useState(0);\r\n  const [level3, setLevel3] = useState(0);\r\n  \r\n  const changePandemic = (option)=>{\r\n    // console.log('pandemic', pandemicData);\r\n    setPandemicSelect(2)\r\n  }\r\n\r\n  const changeProvince = (option)=>{\r\n    const province_id = province.indexOf(option) + 1;\r\n    setLevelSelect(0)\r\n    setProvinceSelect(province_id);\r\n  }\r\n\r\n  const changeLevel = (option) => {\r\n    setSuperData((prevData) => {\r\n      const newData = prevData.map((e) => {\r\n        if (e.province_id === provinceSelect) {\r\n          return { ...e, level: levelList.indexOf(option) };\r\n        }\r\n        return e;\r\n      });\r\n      return newData;\r\n    });\r\n  };\r\n\r\n  const changeDate = (date) => {\r\n    setDateSelect(date);\r\n  }\r\n\r\n  const analyseData = async () => {\r\n    setIsLoading(true);\r\n    await new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        setSuperData((prevData) => {\r\n          const newData = prevData.map((e) => {\r\n            if (!e.level) {\r\n              const level = e.infection.list[0].quantity_in_today % 3 + 1;\r\n              return { ...e, level: level };\r\n            } else {\r\n              return e;\r\n            }\r\n          });\r\n          return newData;\r\n        });\r\n        resolve();\r\n      }, 3000);\r\n    });\r\n    // console.log([superData[0], superData[1]]);\r\n    \r\n    setIsLoading(false);\r\n    alert('Đã phân cụm xong. Có thể tải xuống file dữ liệu được phân tích');\r\n    setCanDownload(true);\r\n  }\r\n\r\n  const downloadFile = () => {\r\n    const currentTime = new Date().getTime();\r\n    const fileName = `${currentTime}_EpidemicAnalyse.xlsx`;\r\n    // Tạo workbook mới\r\n    const workbook = XLSX.utils.book_new();\r\n\r\n    // Biến đổi dữ liệu superData\r\n    const transformedData = superData.map((data) => {\r\n      const transformedObj = {\r\n        province_id: data.province_id,\r\n        date: dateSelect,\r\n        level: data.level,\r\n      };\r\n      return transformedObj;\r\n    });\r\n    // Convert data to worksheet format\r\n    const worksheet = XLSX.utils.json_to_sheet(transformedData);\r\n    // Append worksheet to workbook\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Data');\r\n    // Write workbook to Excel file\r\n    const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'buffer' });\r\n    // Create a Blob from the buffer\r\n    const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n    // Download the file\r\n    saveAs(blob, fileName);\r\n  };\r\n\r\n  const toPreProvicne = () => {\r\n    const province_id = provinceSelect==1 ? 63 : provinceSelect-1;\r\n    setProvinceSelect(province_id)\r\n  }\r\n\r\n  const toNextProvicne = () => {\r\n    const province_id = provinceSelect==63 ? 1 : provinceSelect+1;\r\n    setProvinceSelect(province_id)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(localStorage.getItem('role') != 1){\r\n      navigate(PATH.HOME);\r\n    }\r\n    const fetchData = async () => {\r\n      try {\r\n        const pandemicDataSrevice = await getPandemicDataAPI();\r\n        setPandemicData(pandemicDataSrevice);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const data = await getEpidemicDataOfAllProvincesAPI(pandemicSelect, dateSelect);\r\n        data.forEach(e=>{\r\n          if(!e.level){\r\n            e.level = 0;\r\n          }\r\n        })\r\n        setSuperData(data);\r\n        // console.log(data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchData();\r\n    setCanDownload(false);\r\n  }, [pandemicSelect, dateSelect]);\r\n\r\n  useEffect(() => {\r\n    if(superData && superData.length > 0){\r\n      const data = superData.find(e=>e.province_id==provinceSelect);\r\n      setLevelSelect(data.level);\r\n      setTableData(data);\r\n    }\r\n  }, [provinceSelect]);\r\n  \r\n  useEffect(()=>{\r\n    // console.log(superData);\r\n    setLevel1(superData.filter(e=>e.level==1).length);\r\n    setLevel2(superData.filter(e=>e.level==2).length);\r\n    setLevel3(superData.filter(e=>e.level==3).length);\r\n  },[superData])\r\n\r\n\r\n  return (\r\n    <MainFrame>\r\n      <div className=\"relative\">\r\n        {isLoading &&\r\n        <div className=\"mt-3 absolute inset-0 flex items-center justify-center\">\r\n          <div className=\"level-count-container absolute z-10 text-white bg-black bg-opacity-30 w-96 h-60 rounded-lg flex items-center justify-center\">\r\n            <h4>Đang xử lý...</h4>\r\n          </div>\r\n        </div>\r\n        }\r\n        <h1>Phân tích tình hình dịch bệnh</h1>\r\n        <div className=\"grid grid-cols-3 gap-4 mt-5\">\r\n          <div className=\"col-span-1 flex justify-between\">\r\n            <Dropdown data={pandemicData.map(e=>e.pandemic_name)} func={changePandemic} \r\n            />\r\n          </div>\r\n          <div className=\"col-span-1 flex justify-between\">\r\n            <span className=\"btn btn-primary w-10 h-10 mt-4\" onClick={toPreProvicne}>&lt;</span>\r\n            <Dropdown \r\n              data={province} func={changeProvince} selectOption={provinceSelect}\r\n            />\r\n            <span className=\"btn btn-primary w-10 h-10 mt-4\" onClick={toNextProvicne}>&gt;</span>\r\n          </div>\r\n          <div className=\"col-span-1 flex justify-between\">\r\n            <MyDatePicker func={changeDate}/>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-3 gap-4 mt-5\">\r\n          <div className=\"col-span-1 mt-5\">\r\n            <h3>Thống kê:</h3>\r\n            <div className=\"mt-3\">Cấp độ 1: <strong className='text-green-900'>{level1}</strong></div>\r\n            <div className=\"mt-3\">Cấp độ 2: <strong className='text-blue-900'>{level2}</strong></div>\r\n            <div className=\"mt-3\">Cấp độ 3: <strong className='text-red-900'>{level3}</strong></div>\r\n            {(level1>1 && level2>1 && level3>1) ? (\r\n              <><span className=\"btn btn-primary mt-5 w-36\" onClick={analyseData}>Phân cụm</span>\r\n              {canDownload && <span className=\"btn btn-success mt-5 ml-4 w-36\" onClick={downloadFile}>Tải file phân tích</span>}\r\n              </>\r\n            ) : (\r\n              <div className=\"mt-4 text-blue-900\">Khi đã xác định được mỗi level có ít nhất 2 tỉnh thành, có thể thực hiện phân cụm nhanh.</div>\r\n            )\r\n            }\r\n            \r\n          </div>\r\n          <div className=\"col-span-2 mt-4\">\r\n            <EpidemicTable data={tableData} func={changeLevel} selectOption={levelSelect}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </MainFrame>\r\n  )\r\n}\r\n\r\nexport default EpidemicAnalyse"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}